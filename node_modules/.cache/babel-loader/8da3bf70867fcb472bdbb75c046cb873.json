{"ast":null,"code":"var _jsxFileName = \"/Users/grantlj/Documents/React/FreeCodeCamp/quiz-site/src/components/Question.js\",\n    _s = $RefreshSig$();\n\nimport React from 'react';\nimport { nanoid } from 'nanoid';\nimport { jsxDEV as _jsxDEV } from \"react/jsx-dev-runtime\";\nexport default function Question(props) {\n  _s();\n\n  const {\n    id,\n    questionText,\n    questionAnswers,\n    playingGame,\n    updateEndGameStats\n  } = props;\n  const [questionBlock, setQuestionBlock] = React.useState(generateNewQuestion());\n  React.useEffect(() => {\n    updateEndGameStats(questionBlock.id, questionBlock.correctId, questionBlock.answeredId);\n  }, [questionBlock]);\n\n  function generateNewQuestion() {\n    let answersArray = questionAnswers.map(answer => ({\n      id: nanoid(),\n      text: answer,\n      selected: false,\n      correct: false\n    }));\n    answersArray[answersArray.length - 1].correct = true;\n    let correctAnswerId = answersArray[answersArray.length - 1].id;\n\n    for (let i = answersArray.length - 1; i > 0; i--) {\n      let j = Math.floor(Math.random() * (i + 1));\n      let temp = answersArray[i];\n      answersArray[i] = answersArray[j];\n      answersArray[j] = temp;\n    }\n\n    return {\n      id: id,\n      answers: answersArray,\n      question: questionText,\n      answeredId: undefined,\n      correctId: correctAnswerId\n    };\n  }\n\n  function answerStyle(answer) {\n    if (playingGame) {\n      return answer.selected ? \" selected\" : \"\";\n    } else {\n      if (answer.correct) {\n        return \" correct\";\n      } else if (answer.selected) {\n        return \" incorrect\";\n      } else {\n        return \" blank\";\n      }\n    }\n  }\n\n  function handleAnswerClick(event) {\n    setQuestionBlock(prevBlock => {\n      let newAnsweredId, newCorrectCount, newAnsweredCount;\n      let updatedAnswers = prevBlock.answers.map(answer => {\n        if (event.target.id === answer.id) {\n          newAnsweredId = answer.selected ? undefined : answer.id;\n          return { ...answer,\n            selected: !answer.selected\n          };\n        } else {\n          return { ...answer,\n            selected: false\n          };\n        }\n      });\n      console.log(prevBlock.answeredId, newAnsweredId); //updateEndGameStats(prevBlock.answeredId, newAnsweredId, prevBlock.correctId)\n\n      return { ...prevBlock,\n        answers: updatedAnswers,\n        answeredId: newAnsweredId,\n        correctCount: newCorrectCount,\n        answeredCount: newAnsweredCount\n      };\n    });\n  }\n\n  const answerElements = questionBlock.answers.map(answer => /*#__PURE__*/_jsxDEV(\"button\", {\n    className: `question-answer${answerStyle(answer)}`,\n    id: answer.id,\n    onClick: playingGame ? event => handleAnswerClick(event) : undefined,\n    dangerouslySetInnerHTML: {\n      __html: answer.text\n    }\n  }, answer.id, false, {\n    fileName: _jsxFileName,\n    lineNumber: 77,\n    columnNumber: 9\n  }, this));\n  return /*#__PURE__*/_jsxDEV(\"div\", {\n    className: \"question\",\n    children: [/*#__PURE__*/_jsxDEV(\"h2\", {\n      className: \"question-header\",\n      dangerouslySetInnerHTML: {\n        __html: questionBlock.question\n      }\n    }, void 0, false, {\n      fileName: _jsxFileName,\n      lineNumber: 89,\n      columnNumber: 13\n    }, this), /*#__PURE__*/_jsxDEV(\"div\", {\n      className: \"question-choices\",\n      children: answerElements\n    }, void 0, false, {\n      fileName: _jsxFileName,\n      lineNumber: 93,\n      columnNumber: 13\n    }, this)]\n  }, void 0, true, {\n    fileName: _jsxFileName,\n    lineNumber: 88,\n    columnNumber: 9\n  }, this);\n}\n\n_s(Question, \"B/0YzQoh7v2OTrDVOHoJv6XmyYg=\");\n\n_c = Question;\n\nvar _c;\n\n$RefreshReg$(_c, \"Question\");","map":{"version":3,"names":["React","nanoid","Question","props","id","questionText","questionAnswers","playingGame","updateEndGameStats","questionBlock","setQuestionBlock","useState","generateNewQuestion","useEffect","correctId","answeredId","answersArray","map","answer","text","selected","correct","length","correctAnswerId","i","j","Math","floor","random","temp","answers","question","undefined","answerStyle","handleAnswerClick","event","prevBlock","newAnsweredId","newCorrectCount","newAnsweredCount","updatedAnswers","target","console","log","correctCount","answeredCount","answerElements","__html"],"sources":["/Users/grantlj/Documents/React/FreeCodeCamp/quiz-site/src/components/Question.js"],"sourcesContent":["import React from 'react'\nimport {nanoid} from 'nanoid'\n\nexport default function Question(props) {\n\n    const {id, questionText, questionAnswers, playingGame, updateEndGameStats} = props\n\n    const [questionBlock, setQuestionBlock] = React.useState(generateNewQuestion())\n\n    React.useEffect(() => {\n        updateEndGameStats(questionBlock.id, questionBlock.correctId, questionBlock.answeredId)\n    }, [questionBlock])\n\n    function generateNewQuestion(){\n        let answersArray = questionAnswers.map(answer => (\n            {\n                id: nanoid(),\n                text: answer,\n                selected: false,\n                correct: false\n            }\n        ))\n        answersArray[answersArray.length - 1].correct = true\n        let correctAnswerId = answersArray[answersArray.length - 1].id\n        for (let i = answersArray.length - 1; i > 0; i--) {\n            let j = Math.floor(Math.random() * (i + 1));\n            let temp = answersArray[i];\n            answersArray[i] = answersArray[j];\n            answersArray[j] = temp;\n        }\n        return  {\n                    id: id,\n                    answers: answersArray,\n                    question: questionText,\n                    answeredId: undefined,\n                    correctId: correctAnswerId,\n                }\n        }\n\n    function answerStyle(answer){\n        if(playingGame){\n            return answer.selected ? \" selected\" : \"\"\n        }\n        else{\n            if(answer.correct){\n                return \" correct\"\n            }\n            else if(answer.selected){\n                return \" incorrect\"\n            }\n            else {\n                return \" blank\"\n            }\n        }\n    }\n\n    function handleAnswerClick(event){\n\t\tsetQuestionBlock(prevBlock => {\n            let newAnsweredId, newCorrectCount, newAnsweredCount\n            let updatedAnswers = prevBlock.answers.map(answer => {\n                if(event.target.id === answer.id){\n                    newAnsweredId = answer.selected ? undefined : answer.id\n                    return {...answer, selected: !answer.selected}\n                }\n                else {\n                    return {...answer, selected: false}\n                }\n            })\n            console.log(prevBlock.answeredId, newAnsweredId)\n            //updateEndGameStats(prevBlock.answeredId, newAnsweredId, prevBlock.correctId)\n            return {...prevBlock, answers: updatedAnswers, answeredId: newAnsweredId,\n            correctCount: newCorrectCount, answeredCount: newAnsweredCount}\n\t\t})\n    }\n    \n    const answerElements = questionBlock.answers.map(answer => (\n        <button className={`question-answer${answerStyle(answer)}`}\n                key={answer.id}\n                id={answer.id}\n                onClick={playingGame ? \n                (event) => handleAnswerClick(event) : undefined}\n                dangerouslySetInnerHTML={{__html: answer.text}}\n        >\n        </button>\n    ))\n\n    return (\n        <div className=\"question\">\n            <h2 className=\"question-header\"\n                dangerouslySetInnerHTML={{__html: questionBlock.question}}\n            >\n            </h2>\n            <div className=\"question-choices\">\n                {answerElements}\n            </div>\n        </div>\n    )\n} "],"mappings":"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"},"metadata":{},"sourceType":"module"}