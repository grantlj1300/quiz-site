{"ast":null,"code":"var _jsxFileName = \"/Users/grantlj/Documents/React/FreeCodeCamp/quiz-site/src/components/PlayScreen.js\",\n    _s = $RefreshSig$();\n\nimport React from \"react\";\nimport Question from \"./Question\";\nimport { nanoid } from \"nanoid\";\nimport { jsxDEV as _jsxDEV } from \"react/jsx-dev-runtime\";\nexport default function PlayScreen(props) {\n  _s();\n\n  const {\n    playingGame,\n    toStartScreen,\n    toEndGame,\n    gameQuestionsDirty\n  } = props;\n  const [allQuestions, setAllQuestions] = React.useState([]);\n  React.useEffect(() => {\n    setAllQuestions(gameQuestionsDirty.map((question, index) => {\n      let answersArray = question.incorrect_answers.map(answer => ({\n        id: nanoid(),\n        text: answer,\n        selected: false,\n        correct: false\n      }));\n      answersArray.push({\n        id: nanoid(),\n        text: question.correct_answer,\n        selected: false,\n        correct: true\n      });\n      let correctId = answersArray[answersArray.length - 1].id;\n\n      for (let i = answersArray.length - 1; i > 0; i--) {\n        let j = Math.floor(Math.random() * (i + 1));\n        let temp = answersArray[i];\n        answersArray[i] = answersArray[j];\n        answersArray[j] = temp;\n      }\n\n      return {\n        id: index,\n        answers: answersArray,\n        question: question.question,\n        selectedId: undefined,\n        correctId: correctId\n      };\n    }));\n  }, [gameQuestionsDirty]);\n\n  function handleAnswerClick(event, questionId) {\n    setAllQuestions(prevQuestions => prevQuestions.map(question => {\n      if (question.id === questionId) {\n        let newAnswers = question.answers.map(answer => {\n          if (event.target.id === answer.id) {\n            return { ...answer,\n              selected: !answer.selected\n            };\n          } else {\n            return { ...answer,\n              selected: false\n            };\n          }\n        });\n        return { ...question,\n          answers: newAnswers\n        };\n      } else {\n        return question;\n      }\n    }));\n  }\n\n  function totalCorrect() {\n    let correctCount = 0;\n    allQuestions.forEach(question => {\n      question.answers.forEach(answer => {\n        correctCount += answer.correct && answer.selected ? 1 : 0;\n      });\n    });\n    return correctCount;\n  } // Generate question elements to display\n\n\n  if (allQuestions.length) {\n    const questionElements = allQuestions.map(questionElement => {\n      return /*#__PURE__*/_jsxDEV(Question, {\n        id: questionElement.id,\n        questionText: questionElement.question,\n        questionAnswers: questionElement.answers,\n        playingGame: playingGame,\n        handleAnswerClick: handleAnswerClick\n      }, questionElement.id, false, {\n        fileName: _jsxFileName,\n        lineNumber: 86,\n        columnNumber: 10\n      }, this);\n    });\n    return /*#__PURE__*/_jsxDEV(\"div\", {\n      className: \"play-screen\",\n      children: [/*#__PURE__*/_jsxDEV(\"div\", {\n        className: \"question-container\",\n        children: questionElements\n      }, void 0, false, {\n        fileName: _jsxFileName,\n        lineNumber: 98,\n        columnNumber: 13\n      }, this), playingGame && /*#__PURE__*/_jsxDEV(\"button\", {\n        className: \"submit-button\",\n        onClick: () => toEndGame(allQuestions),\n        children: \"Check Answers\"\n      }, void 0, false, {\n        fileName: _jsxFileName,\n        lineNumber: 103,\n        columnNumber: 13\n      }, this), !playingGame && /*#__PURE__*/_jsxDEV(\"div\", {\n        className: \"play-again-container\",\n        children: [/*#__PURE__*/_jsxDEV(\"h2\", {\n          className: \"score\",\n          children: [\"You scored \", totalCorrect(), \"/\", questionElements.length, \" correct answers\"]\n        }, void 0, true, {\n          fileName: _jsxFileName,\n          lineNumber: 108,\n          columnNumber: 17\n        }, this), /*#__PURE__*/_jsxDEV(\"button\", {\n          className: \"play-again-button\",\n          onClick: toStartScreen,\n          children: \"Play Again\"\n        }, void 0, false, {\n          fileName: _jsxFileName,\n          lineNumber: 111,\n          columnNumber: 17\n        }, this)]\n      }, void 0, true, {\n        fileName: _jsxFileName,\n        lineNumber: 107,\n        columnNumber: 30\n      }, this)]\n    }, void 0, true, {\n      fileName: _jsxFileName,\n      lineNumber: 97,\n      columnNumber: 9\n    }, this);\n  }\n}\n\n_s(PlayScreen, \"gWJXvTk86Cf1IQDy7F3uceGT5+4=\");\n\n_c = PlayScreen;\n\nvar _c;\n\n$RefreshReg$(_c, \"PlayScreen\");","map":{"version":3,"names":["React","Question","nanoid","PlayScreen","props","playingGame","toStartScreen","toEndGame","gameQuestionsDirty","allQuestions","setAllQuestions","useState","useEffect","map","question","index","answersArray","incorrect_answers","answer","id","text","selected","correct","push","correct_answer","correctId","length","i","j","Math","floor","random","temp","answers","selectedId","undefined","handleAnswerClick","event","questionId","prevQuestions","newAnswers","target","totalCorrect","correctCount","forEach","questionElements","questionElement"],"sources":["/Users/grantlj/Documents/React/FreeCodeCamp/quiz-site/src/components/PlayScreen.js"],"sourcesContent":["import React from \"react\"\nimport Question from \"./Question\"\nimport {nanoid} from \"nanoid\"\n\nexport default function PlayScreen(props) {\n\n    const {playingGame, toStartScreen, toEndGame, gameQuestionsDirty} = props\n\n    const [allQuestions, setAllQuestions] = React.useState([])\n\n    React.useEffect(() => {\n        setAllQuestions(gameQuestionsDirty.map((question, index) => {\n            let answersArray = question.incorrect_answers.map(answer => (\n                {\n                    id: nanoid(),\n                    text: answer,\n                    selected: false,\n                    correct: false\n                }\n            ))\n            answersArray.push(\n                {\n                    id: nanoid(),\n                    text: question.correct_answer,\n                    selected: false,\n                    correct: true\n                }\n            )\n            let correctId = answersArray[answersArray.length - 1].id\n            for (let i = answersArray.length - 1; i > 0; i--) {\n                let j = Math.floor(Math.random() * (i + 1))\n                let temp = answersArray[i]\n                answersArray[i] = answersArray[j]\n                answersArray[j] = temp\n            }\n            return  {\n                id: index,\n                answers: answersArray,\n                question: question.question,\n                selectedId: undefined,\n                correctId: correctId\n            }\n        }))\n    }, [gameQuestionsDirty])\n\n    function handleAnswerClick(event, questionId){\n\t\tsetAllQuestions(prevQuestions => prevQuestions.map(question => {\n            if(question.id === questionId){\n                let newAnswers = question.answers.map(answer => {\n                    if(event.target.id === answer.id){\n                        return {\n                            ...answer,\n                            selected: !answer.selected\n                        }\n                    } else {\n                        return {\n                            ...answer,\n                            selected: false\n                        }\n                    }\n                })\n                return {\n                    ...question,\n                    answers: newAnswers\n                }\n            }\n            else{\n                return question\n            }\n        }))\n    }\n\n    function totalCorrect(){\n        let correctCount = 0\n        allQuestions.forEach(question => {\n\t\t\tquestion.answers.forEach(answer => {\n\t\t\t\tcorrectCount += answer.correct && answer.selected ? 1 : 0\n\t\t\t})\n\t\t})\n        return correctCount\n    }\n\n    // Generate question elements to display\n    if(allQuestions.length){\n\tconst questionElements = allQuestions.map(questionElement => {\n\t\treturn <Question \n\t\t\tkey={questionElement.id}\n\t\t\tid={questionElement.id}\n\t\t\tquestionText={questionElement.question}\n\t\t\tquestionAnswers={questionElement.answers}\n\t\t\tplayingGame={playingGame}\n            handleAnswerClick={handleAnswerClick}\n\t\t/>\n\t})\n\n    return (\n        <div className=\"play-screen\">\n            <div className=\"question-container\">\n                {questionElements}\n            </div>\n\n            {playingGame && \n            <button className=\"submit-button\" onClick={() => toEndGame(allQuestions)}>\n                Check Answers\n            </button>}\n\n            {!playingGame && <div className=\"play-again-container\">\n                <h2 className=\"score\">\n                    You scored {totalCorrect()}/{questionElements.length} correct answers\n                </h2>\n                <button className=\"play-again-button\" onClick={toStartScreen}>\n                    Play Again\n                </button>\n            </div>}\n        </div>\n    )}\n} "],"mappings":"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"},"metadata":{},"sourceType":"module"}